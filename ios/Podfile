#
# هذا الملف يحل مشكلة `Flutter/Flutter.h`
# عن طريق إضافة إعدادات البناء الصحيحة.
#
platform :ios, '15.0'

# هذا الجزء ضروري لإيجاد ملف podhelper.rb في بيئة Codemagic
# ويمنع أخطاء المسار التي تحدث عند البناء.
flutter_root = ENV['FLUTTER_ROOT'] || '/Users/builder/programs/flutter'
raise "FLUTTER_ROOT not set or not found at #{flutter_root}" unless File.exist?(flutter_root)
load File.join(flutter_root, 'packages', 'flutter_tools', 'bin', 'podhelper.rb')

# استخدام `static` لمنع مشاكل Header Search Paths، وهي سبب خطأ "Flutter/Flutter.h not found".
# واستخدام `use_modular_headers!` لدمج مكتبات Swift/Objective-C بسلاسة.
use_frameworks! :linkage => :static
use_modular_headers!

target 'Runner' do
  # هذا السطر يقوم بتثبيت جميع المكتبات (Pods) التي يحتاجها مشروع Flutter تلقائياً.
  flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))

  # يمكنك إضافة المكتبات يدوياً هنا إن لزم الأمر.
  # pod 'Firebase/Firestore', '~> 10.15.0'

end
